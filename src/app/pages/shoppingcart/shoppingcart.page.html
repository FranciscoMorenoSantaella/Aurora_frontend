<ion-header>
  <ion-toolbar class="background-color">
    <ion-title>Aurora</ion-title>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="welcome"></ion-back-button>
    </ion-buttons>
    <ion-buttons slot="end" (click)="goToProducts()">
    <img
      class="header-icon right"
      src="../../../assets/icon/shopping-bag.png"
    />
  </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div *ngIf="this.orderlist?.length == 0" >

    <h1>No has añadido articulos al carro de la compra</h1>
    <p>Prueba a añadir nuevos articulos</p>
 
    
  </div>
  <div *ngFor="let order of orderlist; let i = index">
    
    <ion-item>
      <ion-img (click)="goToProduct(order.product)"
        style="width: 148px; height: 148px"
        [src]="order.product?.url"
      ></ion-img>

      <ion-grid style="float: left">
        <ion-row>
          <ion-col>
            <p>{{order.product?.name}}</p>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>
            <ion-badge color="light">Cantidad: {{order?.amount}}</ion-badge>
           
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>
            <ion-chip color="success">{{order.product?.price}} €</ion-chip>
          </ion-col>
        </ion-row>
      </ion-grid>
      <ion-icon name="close-outline"  (click)="deleteOrder(order?.id)"></ion-icon>
    </ion-item>
  </div>

  <h1 *ngIf ="this?.precio != null">Precio final: <ion-chip color="success">{{this?.precio}} € </ion-chip></h1>
  <ion-button *ngIf="this.orderlist?.length > 0" expand="full" color="dark" (click)="payShoppingCart()">Comprar</ion-button>
  <ion-button *ngIf="this.orderlist?.length == 0" expand="full" color="dark" (click)="goToProducts()" disabled>Ver productos</ion-button>
</ion-content>
